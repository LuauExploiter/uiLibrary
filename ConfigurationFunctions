local HttpService = game:GetService("HttpService")

local file = isfile("hkopvp.json") and "hkopvp.json" or "HikloPvP.json"

local Config = {}

function Config.Save(_,data)
	if typeof(data)~="table" then return false end
	pcall(function()
		writefile(file,HttpService:JSONEncode(data))
	end)
	return true
end

function Config.Load()
	if not isfile(file) then return nil end
	local success,result = pcall(function()
		return HttpService:JSONDecode(readfile(file))
	end)
	return success and result or nil
end

function Config.Delete()
	if isfile(file) then delfile(file) end
end

function Config.List()
	local t = {}
	if isfile("hkopvp.json") then table.insert(t,"hkopvp") end
	if isfile("HikloPvP.json") then table.insert(t,"HikloPvP") end
	table.sort(t)
	return t
end

function Config.AutoLoad()
	return Config.Load()
end

return Config
